<!DOCTYPE html>
<html>
<head>
    <title>Assista ao anúncio</title>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-SEU_ID_ADMOB"></script>
    <script>
        function liberarAcesso() {
            const username = new URLSearchParams(window.location.search).get('username');
            const mac = new URLSearchParams(window.location.search).get('mac');
            
            // Opção 1: Redirecionar para um servidor externo que libera o acesso
           // window.location.href = `http://SEU_SERVIDOR_EXTERNO/liberar?username=${username}&mac=${mac}`;

            // Opção 2 (simples): Redirecionar para o "OK" do Hotspot do MikroTik (menos seguro)
            window.location.href = `http://10.10.0.1/status?username=${username}`;
        }

        // Forçar botão após 30 segundos (simulando tempo do anúncio)
        setTimeout(() => {
            document.getElementById('btn-liberar').style.display = 'block';
        }, 30000);
    </script>
</head>
<body>
    <h1>Assista ao anúncio para liberar o acesso:</h1>
    <div id="ad-container">
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-app-pub-6136891148161722~4183908111"
             data-ad-slot="ca-app-pub-6136891148161722/2697526506"></ins>
        <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
    </div>
    <button id="btn-liberar" onclick="liberarAcesso()" style="display:none;">Continuar</button>
</body>
</html>
